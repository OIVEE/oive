<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="resource.WriteMapper">
	<select id="selectAll" parameterType="String" resultType="vo.SelfIntroduceVO">
		select * from Self_Introduce 
		where userid = #{userid}
	</select>
	
	<select id="searchSelf" parameterType="HashMap" resultType="vo.SelfIntroduceVO">
		select id, userId, question, answer, to_char(applyDate,'yyyy"년"mm"월"dd"일"')applyDate, appliedCompany, to_char(writeDate,'yyyy"년"mm"월"dd"일"') writeDate, , to_char(editDate,'yyyy"년"mm"월"dd"일"') editDate  
		from Self_Introduce where ${type} like '%'||#{window}||'%'
	</select>
	
	<select id="selectSid" resultType="string">
		select SELF_INTRODUCE_SEQ.nextval from dual
	</select>
	<insert id="insertSelf" parameterType="vo.SelfIntroduceVO">
		insert into Self_Introduce (id, userId, question, answer, applyDate, appliedCompany, writeDate, editDate) 
		values (#{id}, #{userId}, #{question}, #{answer}, sysdate, #{appliedCompany},#{writeDate}, sysdate)
	</insert>
	<insert id="insertKey" parameterType="hashmap">
		<selectKey resultType="int" keyProperty="id" order="BEFORE">
			select keyword_selfintroduce_seq.nextval from dual
		</selectKey>
		insert into keyword_selfintroduce (id, userid, keyword, sid) 
		values(#{id}, #{userId}, #{keyword}, #{sid})
	</insert>
</mapper>






	

